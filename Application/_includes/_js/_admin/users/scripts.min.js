function reloadPageElements(){refreshBLLSelectOptions("#users_form select#user_id","users",site_url+"admin/users","email","user_id","email ASC");$("#users_form")[0].reset();$("#clients_form")[0].reset()}function saveUser(){var e=saveEntry("Users");if(e.length>0){if(e[0]=="error"){popUpMsg("Form is not complete!");displayErrors(e[1],"users");return false}else if(e[0]=="duplicate"){popUpMsg("This user already exists!");return false}else if(e[0]=="pass"){popUpMsg("User was saved successfully!");reloadPageElements();return true}}}function deleteUser(){var e="";$.prompt("<p>Are you sure you want to delete this user?</p>",{title:"Are you sure?",buttons:{Yes:true,No:false},submit:function(t,n,r,i){if(n){e=deleteEntry("Users");if(e=="Deletion Success"){reloadPageElements()}}$.prompt.close()}})}function updateUserForm(){var e=$("#client_id").val();var t=$.ajax({type:"POST",dataType:"json",url:site_url+"admin/users",async:false,data:{table:"clients",primaryKey:e,bllAction:"SELECTION",_ajaxFunc:"gatherBLLResource"}});var n=$.parseJSON(t.responseText);n=n[0];$("#users_form")[0].reset();$("#user_name").val(n["client_name"]);$("#email").val(n["email"]);$("#user_group_id").val(3);$("#status").val(1)}$(document).ready(function(){refreshBLLSelectOptions("#users_form select#user_id","users",site_url+"admin/users","email","user_id","email ASC");refreshBLLSelectOptions("#users_form select#user_group_id","user_group",site_url+"admin/users","group_name","user_group_id","group_name ASC");refreshBLLSelectOptions("#clients_form select#client_id","clients",site_url+"admin/users","company","client_id","company ASC");$("#users_form select#user_id").change(function(){updateBLLFormFields("users_form","users",site_url+"admin/users")})})